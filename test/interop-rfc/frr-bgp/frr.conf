! FRR configuration for RFC 9384 interoperability testing.
!
! ASN 65012, peers with GoBGP (ASN 65011) at 172.22.0.30.
! BGP + BFD: when BFD detects failure, FRR fast-teardowns the BGP session.
! Announces 10.22.0.0/24 to GoBGP.
!
! This validates that when frr-rfc-bgp is paused (simulating failure),
! gobfd-rfc9384 detects BFD Down and logs an RFC 9384 Cease/BFD-Down
! communication string via the GoBGP handler.

frr version 10.2.5
frr defaults traditional
hostname frr-rfc-bgp
log stdout informational
service integrated-vtysh-config

! Static route for announcement.
ip route 10.22.0.0/24 Null0

router bgp 65012
 bgp router-id 172.22.0.40
 no bgp ebgp-requires-policy
 neighbor 172.22.0.30 remote-as 65011
 neighbor 172.22.0.30 bfd
 !
 address-family ipv4 unicast
  network 10.22.0.0/24
 exit-address-family
!

bfd
 peer 172.22.0.30
  detect-multiplier 3
  receive-interval 300
  transmit-interval 300
  no shutdown
 !
!

end
